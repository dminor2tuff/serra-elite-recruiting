<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Serra Player Profile</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{margin:0;font-family:Arial;background:#f5f7fb}
.wrap{max-width:900px;margin:30px auto;padding:0 16px}
.card{
  background:white;
  border-radius:18px;
  padding:20px;
  display:flex;
  gap:20px;
  box-shadow:0 4px 14px rgba(0,0,0,.1);
}
.photo img{
  width:220px;
  border-radius:16px;
  object-fit:cover;
}
h1{color:#002b5c}
.meta{color:#444;margin-bottom:10px}
.back{
  display:inline-block;
  margin-bottom:14px;
  text-decoration:none;
  color:#002b5c;
  font-weight:700;
}
</style>
</head>

<body>

<div class="wrap">
<a class="back" href="recruits.html">← Back to recruits</a>

<div class="card">
  <div class="photo">
    <img id="photo" src="images/placeholder_player.png">
  </div>
  <div>
    <h1 id="name"></h1>
    <div id="meta" class="meta"></div>
    <p id="bio"></p>
    <a id="hudl" target="_blank"></a>
  </div>
</div>
</div>

<script>
const SHEET =
"https://docs.google.com/spreadsheets/d/e/2PACX-1vRZdfePIY8K8ag6AePllWRgYXhjJ-gJddB_8rDaJi3t5BAT11bHVK6m5cDsDQXg2PUIYPqHYcXyxbT2/pub?output=csv";

const params=new URLSearchParams(location.search);
const pname=params.get("name");

fetch(SHEET).then(r=>r.text()).then(csv=>{
  const rows=csv.split("\n").map(r=>r.split(","));
  rows.slice(1).forEach(r=>{
    if(r[0]===pname){
      name.innerText=r[0];
      meta.innerText=`Class ${r[1]} • ${r[2]} • ${r[3]||""}`;
      bio.innerText=r[5]||"";
      photo.src=r[6]||"images/placeholder_player.png";
      if(r[4]){
        hudl.href=r[4];
        hudl.innerText="View HUDL";
      }
    }
  });
});
</script>

</body>
</html>